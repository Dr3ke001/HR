<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Formular HR</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #36393f;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}
.panel {
  background-color: #2f3136;
  border-left: 5px solid #7289da;
  border-radius: 8px;
  width: 420px;
  padding: 20px 25px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.5);
}
.panel h2 {
  margin-top: 0;
  color: #fff;
  font-size: 18px;
  text-align: center;
}
input, textarea {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
  border-radius: 5px;
  border: none;
  background-color: #40444b;
  color: #fff;
  font-size: 14px;
}
textarea { resize: none; height: 80px; }
button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  background-color: #7289da;
  color: #fff;
  font-size: 16px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
button:hover { background-color: #5b6eae; }
#msg { text-align: center; margin-top: 10px; font-weight: bold; }
.discord-embed {
  background-color: #2f3136;
  border-left: 5px solid #7289da;
  padding: 10px 15px;
  border-radius: 5px;
  font-size: 14px;
  white-space: pre-line;
  margin-top: 10px;
}
</style>
</head>
<body>
<div class="panel">
  <h2>Formular Programare</h2>
  <input id="id" placeholder="ID">
  <input id="nume" placeholder="Nume">
  <input id="discord" placeholder="Discord">
  <input id="telefon" placeholder="Telefon">
  <textarea id="mentiuni" placeholder="Mentiuni"></textarea>
  <button id="send">Trimite</button>
  <div id="msg"></div>
</div>

<script>
const WEBHOOK_URL = "https://discord.com/api/webhooks/1396254683894513768/HHK0g_trj4zpBIl_A-8vMlr-vVNFroQvZ7rdJqdDe0nyT5X_aXUf0Q1V2Jf4M6PPSpbL";

document.getElementById("send").addEventListener("click", async () => {
  const data = {
    id: document.getElementById("id").value.trim(),
    nume: document.getElementById("nume").value.trim(),
    discord: document.getElementById("discord").value.trim(),
    telefon: document.getElementById("telefon").value.trim(),
    mentiuni: document.getElementById("mentiuni").value.trim()
  };
  if (!/^\d{3,10}$/.test(data.id)) return show("⚠️ ID invalid");
  if (!(data.nume.length >= 2 && data.nume.length <= 50)) return show("⚠️ Nume invalid");

  const payload = {
    embeds: [{
      title: "📋 Formular primit",
      color: 7506394,
      fields: [
        { name: "🆔 ID", value: data.id, inline: true },
        { name: "👤 Nume", value: data.nume, inline: true },
        { name: "💬 Discord", value: data.discord, inline: false },
        { name: "📞 Telefon", value: data.telefon, inline: false },
        { name: "📝 Mentiuni", value: data.mentiuni || "N/A", inline: false }
      ]
    }]
  };

  try {
    const resp = await fetch(WEBHOOK_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
    if (resp.ok) show("✔ Trimis pe Discord!", true);
    else show("❌ Eroare la webhook: " + resp.status);
  } catch {
    show("❌ Nu s-a putut trimite pe Discord.");
  }

  function show(t, ok=false){
    document.getElementById("msg").innerHTML =
      `<span style="color:${ok?'lime':'#ff6b6b'}">${t}</span>`;
  }
});
</script>
</body>
</html>
