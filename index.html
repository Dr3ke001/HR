<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>Formular HR</title>
</head>
<body>
  <h2>Formular Programare</h2>
  <input id="id" placeholder="ID"><br><br>
  <input id="nume" placeholder="Nume"><br><br>
  <input id="discord" placeholder="Discord"><br><br>
  <input id="telefon" placeholder="Telefon"><br><br>
  <textarea id="mentiuni" placeholder="Mentiuni"></textarea><br><br>
  <button id="send">Trimite</button>
  <div id="msg"></div>

  <script>
    // webhook-ul tău
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1396254683894513768/HHK0g_trj4zpBIl_A-8vMlr-vVNFroQvZ7rdJqdDe0nyT5X_aXUf0Q1V2Jf4M6PPSpbL";

    document.getElementById("send").addEventListener("click", async () => {
      const data = {
        id: document.getElementById("id").value.trim(),
        nume: document.getElementById("nume").value.trim(),
        discord: document.getElementById("discord").value.trim(),
        telefon: document.getElementById("telefon").value.trim(),
        mentiuni: document.getElementById("mentiuni").value.trim()
      };

      // validări minime
      if (!/^\d{3,10}$/.test(data.id)) return show("⚠️ ID invalid");
      if (!(data.nume.length >= 2 && data.nume.length <= 50)) return show("⚠️ Nume invalid");

      const payload = {
        content: `📋 **Formular primit:**\n🆔 ID: ${data.id}\n👤 Nume: ${data.nume}\n💬 Discord: ${data.discord}\n📞 Telefon: ${data.telefon}\n📝 Mentiuni: ${data.mentiuni}`
      };

      try {
        const resp = await fetch(WEBHOOK_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        if (resp.ok) {
          show("✔ Trimis pe Discord!", true);
        } else {
          show("❌ Eroare la webhook: " + resp.status);
        }
      } catch (e) {
        show("❌ Nu s-a putut trimite pe Discord.");
      }

      function show(t, ok=false){
        document.getElementById("msg").innerHTML =
          `<span style="color:${ok?'lime':'#ff6b6b'}">${t}</span>`;
      }
    });
  </script>
</body>
</html>
